---
name: book-apply
description: レビュー結果の改善提案を目次・章に反映する。
argument-hint: "[--review ファイル] [--interactive]"
---

# レビュー結果適用スキル

## 使い方

- `/book-apply` - 最新のレビュー結果を適用
- `/book-apply --review <ファイル>` - 指定したレビューファイルを適用
- `/book-apply --interactive` - 各提案を確認しながら適用

## オプション

$ARGUMENTS

## 処理手順

1. `knowledges/reviews/` から最新のレビュー結果を読み込む
2. 改善提案を優先度順にソートする
3. 各提案について:
   - 該当する章ファイルを特定する
   - 変更内容を適用する
   - 変更履歴を記録する
4. 適用結果のサマリーを出力する

## インタラクティブモード

`--interactive` オプション使用時:

1. 各改善提案を順番に表示する
2. ユーザーに適用可否を確認する
3. 「適用」「スキップ」「修正して適用」から選択する

## 変更の種類

### 章の追加

- 新しい章ファイルを作成する
- 後続の章番号を繰り上げる

### 章の順序変更

- ファイル名のリナンバリングを行う
- 章内の相互参照を更新する

### セクションの追加・削除

- 該当する章ファイルを編集する

## 出力フォーマット

```markdown
# レビュー適用結果

適用日: YYYY-MM-DD

## 適用した改善

| # | 提案 | ステータス | 変更ファイル |
|---|------|-----------|-------------|
| 1 | 〜を追加 | ✅ 適用 | 03-xxx.md |
| 2 | 〜を移動 | ✅ 適用 | 04-xxx.md |
| 3 | 〜を削除 | ⏭️ スキップ | - |

## 変更されたファイル

- src/chapters/03-xxx.md: セクション追加

## 次のステップ

- 変更内容を確認してコミット
- 必要に応じて再レビュー
```

## 注意事項

- 適用前に必ず変更内容をプレビューする
- 大きな変更は `--interactive` モードを推奨する
- 適用後は `bun run lint` で文法チェックする
