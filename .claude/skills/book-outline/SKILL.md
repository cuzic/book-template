---
name: book-outline
description: 本の目次を生成または改善する。テーマから新規作成、またはknowledgesを考慮して既存目次を改善。
argument-hint: "[テーマ] (省略時は既存目次を改善)"
---

# 目次生成・改善スキル

## 使い方

- `/book-outline <テーマ>` - テーマから新規目次を生成
- `/book-outline` - 既存の目次をknowledgesを考慮して改善

## 出力先

**`src/toc.md`** - 単一ファイルに目次を記述する

## 新規目次生成（テーマ指定時）

テーマ: $ARGUMENTS

1. 指定されたテーマを分析する
2. 対象読者、本の目的を想定する
3. 論理的な章構成を設計する
4. `src/toc.md` に目次を作成する

## 目次改善（テーマなし）

1. `knowledges/` ディレクトリの内容を読み込む
2. 現在の `src/toc.md` を分析する
3. knowledgesの知見を反映して目次を改善する
4. 不足しているトピック、順序の改善を提案する
5. ユーザー確認後、目次を更新する

## 出力フォーマット

`src/toc.md`:

```markdown
# 書籍タイトル

## 概要

本書の目的と対象読者の説明。

## 目次

### 第1章 はじめに

- 1.1 背景
- 1.2 本書の目的
- 1.3 対象読者

### 第2章 基礎知識

- 2.1 〜とは
- 2.2 〜の仕組み

### 第3章 実践

- 3.1 環境構築
- 3.2 基本的な使い方
```

## 注意事項

- 目次フェーズでは **lint チェックは不要**
- 章タイトル、セクション構成に集中する
- 詳細な本文は `/book-write` で執筆する
- `src/chapters/` には書かない（それは執筆フェーズ）

## 人間承認チェックポイント

**重要**: 目次が完成したら、執筆フェーズに進む前に**人間の承認**が必要です。

1. 目次完成後、Authorは人間に承認を求める
2. 承認後、`/book-approve outline`で記録する
3. 承認なしに`/book-write`を実行してはならない
