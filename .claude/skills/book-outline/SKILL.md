---
name: book-outline
description: 本の目次を生成または改善する。テーマから新規作成、またはknowledgesを考慮して既存目次を改善。
argument-hint: "[テーマ] (省略時は既存目次を改善)"
---

# 目次生成・改善スキル

## 使い方

- `/book-outline <テーマ>` - テーマから新規目次を生成
- `/book-outline` - 既存の目次をknowledgesを考慮して改善

## 新規目次生成（テーマ指定時）

テーマ: $ARGUMENTS

1. 指定されたテーマを分析する
2. 対象読者、本の目的を想定する
3. 論理的な章構成を設計する
4. `src/chapters/` に章ファイルのスケルトンを作成する
5. 各章に見出し構造（H1, H2, H3）を含める

## 目次改善（テーマなし）

1. `knowledges/` ディレクトリの内容を読み込む
2. 現在の `src/chapters/` の目次構造を分析する
3. knowledgesの知見を反映して目次を改善する
4. 不足しているトピック、順序の改善を提案する
5. ユーザー確認後、章ファイルを更新する

## 出力フォーマット

各章ファイル（例：`src/chapters/01-introduction.md`）:

```markdown
# 第1章 はじめに

本章では〜について説明します。

## 1.1 背景

（執筆予定）

## 1.2 本書の目的

（執筆予定）
```

## 注意事項

- ファイル名は `XX-slug.md` 形式（XXは2桁の番号）
- 章タイトルはH1で記述
- textlintルールに準拠（ですます調、句点必須）
- 作成後は `bun run lint` で検証する

## 人間承認チェックポイント

**重要**: 目次が完成したら、執筆フェーズに進む前に**人間の承認**が必要です。

1. 目次完成後、Author は人間に承認を求める
2. 承認後、`/book-approve outline` で記録する
3. 承認なしに `/book-write` を実行してはならない
