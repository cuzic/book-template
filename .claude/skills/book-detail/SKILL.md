---
name: book-detail
description: 目次とknowledgesから詳細な執筆ガイドを作成する。Writerが迷わず書けるレベルまで詳細化。
argument-hint: "[章番号] (省略時は全章を詳細化)"
---

# 目次詳細化スキル

目次（`src/toc.md`）と調査結果（`knowledges/`）を組み合わせて、各セクションの詳細な執筆ガイドを作成します。

## 目的

- Writerが調査なしで執筆に集中できるようにする
- 各セクションで「何を書くか」を明確にする
- 参考資料へのリンクを整理する

## 入出力

- **入力**:
  - `src/toc.md`（目次構造）
  - `knowledges/*.md`（調査結果）
- **出力**:
  - `src/toc.md`を詳細化（上書き更新）

## 処理手順

1. `src/toc.md`の現在の構造を読み込む
2. `knowledges/`の全ファイルを読み込む
3. 各セクションに以下を追加:
   - 書くべきポイント（箇条書き）
   - 参考資料へのリンク
   - 想定文字数
   - 必要に応じてサブセクション追加
4. 不足している情報があればリストアップ

## 出力フォーマット

```markdown
# 書籍タイトル

## 概要

本書の目的と対象読者の説明。

## 目次

### 第1章 はじめに

#### 1.1 背景

**書くべきポイント:**
- 〇〇技術の現状と課題
- なぜ今この技術が注目されているか
- 従来手法の限界

**参考資料:**
- [背景調査](../knowledges/background.md)
- [市場動向](../knowledges/market-trends.md)

**想定文字数:** 500字

#### 1.2 本書の目的

**書くべきポイント:**
- 本書で解決する課題
- 読了後に読者ができるようになること
- 本書の特徴（他書との違い）

**参考資料:**
- [類書分析](../knowledges/competitor-analysis.md)

**想定文字数:** 300字

### 第2章 基礎知識

#### 2.1 〇〇とは

**書くべきポイント:**
- 〇〇の定義
- 主要な概念の説明
- 具体例

**参考資料:**
- [〇〇の基礎](../knowledges/basics.md)

**想定文字数:** 800字

**コード例:**
- 基本的な使用例を含める
- 言語: Python
```

## 詳細化の基準

### 良い詳細化

- 具体的で明確なポイント
- 参考資料との紐付け
- 適切な文字数見積もり
- 必要なコード例の指示

### 悪い詳細化

- 抽象的すぎる指示（「〜について書く」のみ）
- 参考資料なし
- 文字数の見積もりなし

## 不足情報の報告

詳細化の過程で不足している情報が見つかった場合:

```markdown
## 追加調査が必要な項目

- [ ] 第2章 2.3: 最新のベンチマーク結果
- [ ] 第3章 3.1: 実装例のソースコード
- [ ] 第4章: 事例インタビュー
```

この情報をResearcherに伝え、追加調査を依頼する。

## 注意事項

- 目次の構造（章・セクション）は変更しない
- 新しいセクションの追加は最小限に
- knowledgesに書かれていない内容は推測しない
- 不足情報は明示的にリストアップする
