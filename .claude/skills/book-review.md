# book:review - Devil's Advocate レビュースキル

外部AI（Gemini/ChatGPT）を使って目次や内容を批判的にレビューします。

## 使い方

```
/book:review                    # 目次をレビュー
/book:review --iterations 3     # レビュー→改善を3回繰り返す
/book:review --chapter 01       # 特定の章をレビュー
```

## 処理内容

### 目次レビュー

1. 現在の `src/chapters/` の構造を読み込む
2. `book.json` のメタデータ（対象読者、目的）を確認
3. 外部AIにDevil's Advocateとしてレビューを依頼
4. 批判的な視点での問題点を収集
5. 改善提案をリスト化して出力
6. `knowledges/reviews/` に結果を保存

### レビュー観点

- **構成の論理性**: 章の順序、依存関係は適切か
- **網羅性**: 重要なトピックが漏れていないか
- **冗長性**: 不要な重複はないか
- **対象読者との整合性**: 難易度、前提知識は適切か
- **独自性**: 類書と比較した差別化ポイントはあるか
- **実用性**: 読者が実際に活用できる内容か

## 出力フォーマット

`knowledges/reviews/YYYY-MM-DD-review.md`:

```markdown
# 目次レビュー結果

レビュー日: YYYY-MM-DD
レビュー対象: 目次全体

## 評価サマリー

| 観点 | 評価 | コメント |
|------|------|----------|
| 構成の論理性 | B | 〜 |
| 網羅性 | A | 〜 |
| ... | ... | ... |

## 問題点

### 問題1: 〜が不足している

- 詳細: ...
- 影響: ...
- 該当箇所: 第X章

### 問題2: 〜の順序が不適切

- 詳細: ...
- 影響: ...
- 該当箇所: 第Y章、第Z章

## 改善提案

1. 【優先度:高】〜を追加する
2. 【優先度:中】〜の順序を入れ替える
3. 【優先度:低】〜を削除または統合する

## 次のアクション

- [ ] 改善提案1を適用
- [ ] 改善提案2を適用
- [ ] 再レビューを実施
```

## 注意事項

- GEMINI_API_KEY または OPENAI_API_KEY が必要
- `--iterations` で自動的にレビュー→改善サイクルを繰り返し
- 各イテレーションの結果は別ファイルで保存
